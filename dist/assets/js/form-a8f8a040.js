import{d as e,r as l,G as t,f as a,j as r,o,k as s,w as p,g as u,F as n,A as i,a0 as d,Z as m,V as c,l as b,i as h,t as f,m as y,a1 as g,Q as v,h as k}from"./index-6b3e8f5b.js";import{_ as x}from"./index-f1c6fa4e.js";import"./index-6120752c.js";import"./plugin-vueexport-helper-1b428a4d.js";const _=e({__name:"index",props:{options:{}},setup(e,{expose:k}){const x=e,_=l(null),V=l();return t((()=>{!function(){if(x.options&&x.options.length){const e={};x.options.forEach((l=>e[l.prop]=l.value)),_.value=v(e)}}()})),k({resetFields:function(){var e;null==(e=V.value)||e.resetFields()},validate:function(){return V.value.validate},getFormData:function(){return _.value}}),(e,l)=>{const t=a("el-form-item");return r(_)?(o(),s(r(g),d({key:0,ref_key:"form",ref:V,model:r(_),"validate-on-rule-change":!1},e.$attrs),{default:p((()=>[(o(!0),u(n,null,i(e.options,(l=>(o(),u(n,{key:l.prop},["slot"===l.type?(o(),s(t,d({key:0,prop:l.prop,label:l.label},l.fromItemOtherAttrs),{default:p((()=>[m(e.$slots,l.slot,{item:l,model:r(_)})])),_:2},1040,["prop","label"])):(o(),u(n,{key:1},[l.children&&l.children.length?b("",!0):(o(),s(t,d({key:0,prop:l.prop,label:l.label},l.fromItemOtherAttrs),{default:p((()=>[(o(),s(c(`el-${l.type}`),d(l.attrs,{modelValue:r(_)[l.prop],"onUpdate:modelValue":e=>r(_)[l.prop]=e}),null,16,["modelValue","onUpdate:modelValue"]))])),_:2},1040,["prop","label"])),l.children&&l.children.length?(o(),s(t,d({key:1,prop:l.prop,label:l.label},l.fromItemOtherAttrs),{default:p((()=>[(o(),s(c(`el-${l.type}`),d(l.attrs,{modelValue:r(_)[l.prop],"onUpdate:modelValue":e=>r(_)[l.prop]=e}),{default:p((()=>[(o(!0),u(n,null,i(l.children,((e,l)=>(o(),u(n,{key:l},[["radio","radio-button","checkbox","checkbox-button"].includes(e.type)?(o(),s(c(`el-${e.type}`),{key:0,label:e.label},{default:p((()=>[h(f(e.value),1)])),_:2},1032,["label"])):(o(),s(c(`el-${e.type}`),{key:1,label:e.label,value:e.value},null,8,["label","value"]))],64)))),128))])),_:2},1040,["modelValue","onUpdate:modelValue"]))])),_:2},1040,["prop","label"])):b("",!0)],64))],64)))),128)),y(t,null,{default:p((()=>[m(e.$slots,"action",{form:r(V),model:r(_)})])),_:3})])),_:3},16,["model"])):b("",!0)}}}),V=k("div",{class:"mb-3 text-2xl"}," 表单封装-以配置项驱动的表单 ",-1),A=k("div",null," 具体配置请在项目中查看 ",-1),O=e({__name:"form",setup(e){const t=[{type:"input",value:"222",label:"用户名",prop:"username",fromItemOtherAttrs:{style:{width:"45%"},rules:[{required:!0,message:"用户名不能为空",trigger:"blur"},{min:2,max:6,message:"用户名在2-6位之间",trigger:"blur"}]},attrs:{style:{width:"400px"},placeholder:"请输入用户名",clearable:!0}},{type:"input",value:"",label:"密码",prop:"password",fromItemOtherAttrs:{style:{width:"45%"},rules:[{required:!0,message:"密码不能为空",trigger:"blur"},{min:6,max:15,message:"密码在6-15位之间",trigger:"blur"}]},attrs:{style:{width:"400px"},placeholder:"请输入密码",showPassword:!0,clearable:!0}},{type:"radio-group",value:"2",prop:"gender",label:"性别",fromItemOtherAttrs:{rules:[{required:!0,message:"性别不能为空",trigger:"change"}]},children:[{type:"radio",label:"1",value:"男"},{type:"radio",label:"2",value:"女"},{type:"radio",label:"3",value:"未知"}]},{type:"checkbox",value:!0,label:"多选框",prop:"checked",attrs:{label:"我是单多选框"}},{type:"checkbox-group",value:["1"],prop:"like",label:"爱好",fromItemOtherAttrs:{rules:[{required:!0,message:"爱好不能为空",trigger:"change"}]},children:[{type:"checkbox",label:"1",value:"足球"},{type:"checkbox",label:"2",value:"篮球"},{type:"checkbox",label:"3",value:"排球"}]},{type:"select",value:"",prop:"select",label:"下拉框",fromItemOtherAttrs:{rules:[{required:!0,message:"下拉框不能为空",trigger:"change"}]},children:[{type:"option",label:"足球",value:1},{type:"option",label:"篮球",value:2},{type:"option",label:"排球",value:3}],attrs:{clearable:!0,onChange:function(e){}}},{type:"slot",value:"",label:"插槽测试",prop:"slot1",slot:"slot1",fromItemOtherAttrs:{style:{width:"45%"}},attrs:{placeholder:"请选择",clearable:!0}}],s=l();function i(){s.value.resetFields()}const m=["a","b","c","d","e","f","g","h","i","j"],c=Array.from({length:1e3}).map(((e,l)=>({value:`Option ${l+1}`,label:`${m[l%10]}${l}`})));return(e,l)=>{const m=x,b=a("el-select-v2"),f=a("el-button"),g=_;return o(),u(n,null,[y(m,null,{default:p((()=>[V,A])),_:1}),y(m,null,{default:p((()=>[y(g,{ref_key:"formRef",ref:s,inline:"",options:t},{slot1:p((({item:e,model:l})=>[y(b,d({modelValue:l[e.prop],"onUpdate:modelValue":t=>l[e.prop]=t,options:r(c)},e.attrs),null,16,["modelValue","onUpdate:modelValue","options"])])),action:p((e=>[y(f,{type:"primary",onClick:l=>function(e){var l;null==(l=e.form)||l.validate((e=>{}))}(e)},{default:p((()=>[h(" 提交 ")])),_:2},1032,["onClick"]),y(f,{onClick:i},{default:p((()=>[h(" 重置 ")])),_:1})])),_:1},512)])),_:1})],64)}}});export{O as default};
